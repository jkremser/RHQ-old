<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

<ui:composition template="/rhq/layout/main.xhtml">
   <ui:param name="pageTitle" value="#{plugin.name}"/>

     <ui:define name="breadcrumbs">
        <h:outputLink value="plugin-list.xhtml" >
           <h:outputText value="Installed #{plugin.deployment == 'SERVER' ? 'Server' : 'Agent'} Plugins"/>
        </h:outputLink>
        &gt;
        <h:outputLink value="#" >
           <h:outputText value="#{plugin.displayName}"/>
        </h:outputLink>

     </ui:define>

     <ui:define name="body">

     <br/>
     <h:messages showSummary="true"
                 showDetail="true"
                 infoClass="InfoBlock"
                 warnClass="WarnBlock"
                 errorClass="ErrorBlock"
                 fatalClass="FatalBlock"
                 globalOnly="true"
                 layout="table"
                 width="100%"/>

     <h:form id="pluginsForm">

           <rich:panel>
              <f:facet name="header">
                 <h:outputText value="Plugin: #{plugin.displayName} (#{plugin.name})"/>
              </f:facet>

              <h:panelGrid styleClass="BlockContent" columns="4" width="100%">

                 <h:outputLabel styleClass="BlockLabel" value="Version:"/>
                 <h:outputText  styleClass="BlockContent" value="#{plugin.version}"/>

                 <h:outputLabel styleClass="BlockLabel" value="AMPS Version:"/>
                 <h:outputText  styleClass="BlockContent" value="#{InstalledPluginUIBean.plugin.ampsVersion}"/>

                 <h:outputLabel styleClass="BlockLabel" value="Enabled:"/>
                 <h:outputText value="#{plugin.enabled}"/>

                 <h:outputLabel styleClass="BlockLabel" value="Type:"/>
                 <h:outputText value="#{plugin.deployment}"/>

                 <h:outputLabel styleClass="BlockLabel" value="MD5:"/>
                 <h:outputText value="#{plugin.md5}"/>

                 <h:outputLabel styleClass="BlockLabel" value="Description:"/>
                 <h:outputText value="#{plugin.description}"/>

                 <h:outputLabel styleClass="BlockLabel" value="Path:"/>
                 <h:outputText value="#{plugin.path}"/>
              </h:panelGrid>

             <br />
             <h:outputLink value="/rhq/admin/plugin/plugin-config.xhtml" rendered="#{plugin.deployment eq 'SERVER'}">
                <f:param name="pluginName" value="#{plugin.name}"/>
                <h:outputText value="Configure '#{plugin.displayName}'"/>
             </h:outputLink>
             <br />
             <br />

              <rich:panel>
                 <f:facet name="header">
                    <h:outputText value="Plugin Help"/>
                 </f:facet>

                 <h:outputText escape="false" value="&lt;pre&gt; #{plugin.help} &lt;/pre&gt;"/>

              </rich:panel>

              <ui:insert name="post-config" />
           </rich:panel>
        </h:form>

     </ui:define>

  </ui:composition>

</html>